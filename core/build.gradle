dependencies {
    testCompile 'junit:junit:4.12'
    compile 'org.yaml:snakeyaml:1.16'
    compile 'com.google.code.gson:gson:2.2.4'
    compile 'net.fabiozumbi12:redprotect:1.9.6'
}

sourceCompatibility = 1.7
targetCompatibility = 1.7

processResources {
    from('src/main/resources') {
        include 'fawe.properties'
        expand(
                version: "${project.parent.version}",
                name: project.parent.name,
        )
    }
}

jar.archiveName="fawe-api-${project.parent.version}.jar"
jar.destinationDir = file '../target/com/boydti/fawe-api/' + project.parent.version

task createPom << {
    pom {
        project {
            groupId 'com.boydti'
            artifactId 'fawe-api'
            version project.parent.version
        }
    }.writeTo("../target/com/boydti/fawe-api/${project.parent.version}/fawe-api-${project.parent.version}.pom")
}

build.finalizedBy(createPom)